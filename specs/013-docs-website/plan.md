# Implementation Plan: Documentation Website

**Branch**: `013-docs-website` | **Date**: 2026-02-09 | **Spec**: [spec.md](spec.md)
**Input**: Feature specification from `/specs/013-docs-website/spec.md`, [style-guide.md](style-guide.md)

## Summary

Build a Docusaurus v3 documentation website in `/website` with Markdown content in `/docs` at the repo root. The site is automatically deployed to GitHub Pages via GitHub Actions on push to `main`, supports Mermaid diagrams, and uses a terminal-inspired dark/green theme. Content is migrated from the existing README.md into structured sections (Getting Started, Configuration, Commands, Guides, Architecture).

## Technical Context

**Language/Version**: TypeScript (Docusaurus config), Markdown/MDX (content), Node.js 20+  
**Primary Dependencies**: `@docusaurus/core`, `@docusaurus/preset-classic`, `@docusaurus/theme-mermaid`, React 18, React DOM 18  
**Storage**: N/A (static site, no runtime storage)  
**Testing**: `npm run build` (validates all Markdown, config, and links at build time); Lighthouse CI for accessibility  
**Target Platform**: Static website served via GitHub Pages (browser: modern evergreen browsers)  
**Project Type**: Web (static site generator — separate from the existing .NET CLI project)  
**Performance Goals**: Page load < 3s on broadband; Lighthouse accessibility ≥ 90  
**Constraints**: Must not interfere with existing .NET build/CI; docs builds only trigger on `docs/` or `website/` changes  
**Scale/Scope**: ~20 documentation pages across 5 sections; single Docusaurus instance

## Constitution Check

*GATE: Must pass before Phase 0 research. Re-check after Phase 1 design.*

- **Safety & Explicitness**: PASS — This feature is a static documentation site with no system-modifying behavior. No dry-run/preview concerns apply. The deployment pipeline only writes to GitHub Pages (an isolated artifact store), not to user systems.
- **Idempotency**: PASS — `npm run build` is fully idempotent; re-running produces the same output. GitHub Actions deployments overwrite the previous version atomically. The previously deployed site remains available if a deploy fails.
- **Security**: PASS — No secrets in documentation content. The deployment workflow uses `GITHUB_TOKEN` (built-in, not a custom secret). No unsafe install patterns (npm ci from lockfile only). No elevated privileges required.
- **Security values**: PASS — No secrets in repo. External inputs are Markdown files validated at build time. No runtime data collection or retention.
- **Compatibility**: N/A — This is a static website, not a Linux tool. The CI build runs on `ubuntu-latest` which is the project's standard runner. The site targets modern browsers, not a specific OS.
- **Observability**: PASS — Build errors surface in GitHub Actions logs with full stack traces. Docusaurus validates Markdown links and frontmatter at build time, providing actionable error messages. Broken links cause build failures (fail-fast).
- **Decision rules**: PASS — Docusaurus classic preset is the simplest approach that satisfies all requirements (Mermaid, dark mode, sidebars, GitHub Pages deployment). No custom plugins or complex infrastructure needed.
- **Guiding principles**: PASS — The design favors simplicity (autogenerated sidebars, CSS variable theming), maintainability (content separate from tooling), and explicitness (clear directory structure, documented configuration).
- **Testing philosophy**: PASS (with exception documented below) — Docusaurus build validates all content; broken Markdown, invalid links, and config errors cause build failures. This is the standard testing approach for static sites. **TDD does not apply** to this feature because there is no production application code — no C#, no business logic, no services. The deliverables are configuration files, Markdown content, CSS, and a CI workflow. The build itself is the test.

**TDD Exception Justification**: The constitution's TDD requirement targets production code ("All production code MUST be developed using TDD"). This feature produces zero production code — it consists of:
- Docusaurus configuration files (TypeScript config, not application code)
- Markdown documentation content
- CSS theme overrides
- A GitHub Actions workflow YAML file

The equivalent of "tests" for this feature is: (1) `npm run build` succeeds (validates all content and configuration), (2) Lighthouse accessibility audit ≥ 90, and (3) manual verification that the deployed site matches acceptance criteria. These are documented in the spec's Success Criteria.

## Project Structure

### Documentation (this feature)

```text
specs/013-docs-website/
├── plan.md              # This file
├── research.md          # Phase 0 output — resolved unknowns
├── data-model.md        # Phase 1 output — content model
├── quickstart.md        # Phase 1 output — local dev quickstart
└── contracts/           # Phase 1 output — site configuration contracts
```

### Source Code (repository root)

```text
website/                              # Docusaurus project (site tooling)
├── docusaurus.config.ts              # Site configuration (URL, plugins, theme)
├── sidebars.ts                       # Sidebar navigation (autogenerated)
├── package.json                      # Node.js dependencies
├── package-lock.json                 # Lockfile for reproducible builds
├── tsconfig.json                     # TypeScript config
├── static/                           # Static assets
│   └── img/                          # Images, favicon, social card
├── src/                              # Custom pages and components
│   ├── pages/
│   │   └── index.tsx                 # Landing page
│   └── css/
│       └── custom.css                # Theme overrides (dark/light)
└── .gitignore                        # Ignore node_modules, build, .docusaurus

docs/                                 # Documentation content (Markdown)
├── getting-started/
│   ├── _category_.json               # Section metadata (label, position)
│   ├── installation.md
│   ├── quick-start.md
│   └── first-config.md
├── configuration/
│   ├── _category_.json
│   ├── overview.md
│   ├── profiles.md
│   ├── dotfiles.md
│   └── install-blocks.md
├── commands/
│   ├── _category_.json
│   ├── validate.md
│   ├── link.md
│   ├── install.md
│   ├── apply.md
│   ├── status.md
│   └── initialize.md
├── guides/
│   ├── _category_.json
│   ├── profile-inheritance.md
│   ├── github-releases.md
│   ├── apt-repos.md
│   ├── fonts.md
│   └── scripts.md
└── architecture/
    ├── _category_.json
    ├── overview.md
    ├── project-structure.md
    └── design-decisions.md

.github/workflows/
└── docs.yml                          # GitHub Actions deployment workflow
```

**Structure Decision**: This is a static documentation site, not application code. The `/website` directory contains the Docusaurus tooling (React-based static site generator) while `/docs` contains pure Markdown content. This separation means documentation contributors only need to edit Markdown files — they never need to touch the site tooling. The structure follows Docusaurus's recommended pattern for projects where docs live outside the website directory.

## Complexity Tracking

| Violation | Why Needed | Simpler Alternative Rejected Because |
|-----------|------------|-------------------------------------|
| TDD not applied | No production code exists — only config, Markdown, CSS, and CI YAML | Build validation (`npm run build`) serves as the test suite for static sites; writing unit tests for configuration files provides no value |
